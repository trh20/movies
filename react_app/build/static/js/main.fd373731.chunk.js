(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{367:function(e,t,n){e.exports=n(466)},466:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(16),i=n.n(c),o=n(494),s=n(493),u=n(22),f=n(235),l=n(32),d=n.n(l),p=n(84),b=n(18),m=n(329),j=n(340),w=n.n(j),O=n(347),v=n.n(O),g=n(357),h=n.n(g),x=n(348),E=n.n(x),k=n(355),R=n.n(k),y=n(239),P=n.n(y),S=n(238),D=n.n(S),W=n(349),C=n.n(W),T=n(350),J=n.n(T),L=n(352),_=n.n(L),A=n(353),N=n.n(A),U=n(354),B=n.n(U),F=n(358),M=n.n(F),z=n(351),G=n.n(z),I=n(356),V=n.n(I),Y=n(359),$=n.n(Y),q={Add:Object(r.forwardRef)((function(e,t){return a.a.createElement(v.a,Object.assign({},e,{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return a.a.createElement(E.a,Object.assign({},e,{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return a.a.createElement(D.a,Object.assign({},e,{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return a.a.createElement(C.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return a.a.createElement(P.a,Object.assign({},e,{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return a.a.createElement(J.a,Object.assign({},e,{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return a.a.createElement(G.a,Object.assign({},e,{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return a.a.createElement(_.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return a.a.createElement(N.a,Object.assign({},e,{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return a.a.createElement(B.a,Object.assign({},e,{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return a.a.createElement(P.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return a.a.createElement(R.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return a.a.createElement(D.a,Object.assign({},e,{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return a.a.createElement(V.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return a.a.createElement(h.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return a.a.createElement(M.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return a.a.createElement($.a,Object.assign({},e,{ref:t}))}))};var H=function(e){var t=e.columns,n=e.data,r=e.title,c=e.options,i=e.editable,o=e.detailPanel;return a.a.createElement(w.a,{columns:t,data:n,title:r,icons:q,options:c,editable:i,detailPanel:o})};var K=function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(!1),o=Object(b.a)(i,2),s=o[0],l=o[1];Object(r.useEffect)((function(){function e(){return(e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,j();case 3:t=e.sent,c(t),l(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var j=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/movies");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.movies);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,r,a,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.movie,r={directors:null,cast:null,plot:null},a=Object(f.a)(Object(f.a)({},r),n),e.next=5,fetch("/movies",{method:"POST",body:JSON.stringify(a),headers:{"content-type":"application/json"}});case 5:return c=e.sent,e.next=8,c.json();case 8:return i=e.sent,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,r,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.movie,e.next=3,fetch("/movies/".concat(n),{method:"PUT",body:JSON.stringify(r),headers:{"content-type":"application/json"}});case 3:return a=e.sent,e.next=6,a.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,fetch("/movies/".concat(n),{method:"DELETE"});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=[{title:"Year",field:"year"},{title:"Title",field:"title"},{title:"Origin/Ethnicity",field:"origin_ethnicity"},{title:"Directors",field:"directors"},{title:"Cast",field:"cast"},{title:"Genre",field:"genre"},{title:"Wiki URL",field:"wiki_url",render:function(e){return a.a.createElement("a",{href:e.wiki_url,target:"_blank",rel:"noopener noreferrer"},a.a.createElement("img",{alt:"WikiPedia Logo",src:"https://upload.wikimedia.org/wikipedia/en/thumb/8/80/Wikipedia-logo-v2.svg/440px-Wikipedia-logo-v2.svg.png",width:30}))}}];return a.a.createElement("div",null,s&&a.a.createElement(m.a,null),a.a.createElement("div",{style:{margin:"16px",borderRadius:"2px",boxShadow:"3px 3px 5px 6px rgba(0, 0, 0, 0,2)"}},a.a.createElement(H,{columns:g,data:n,title:"Movies",options:{filtering:!0,pageSize:25,emptyRowsWhenPaging:!1,addRowPosition:"first"},detailPanel:function(e){return a.a.createElement("div",{style:{margin:"16px",padding:"16px",backgroundColor:"white",color:"black",borderRadius:"2px",boxShadow:"3px 3px 5px 6px rgba(0, 0, 0, 0,2)",letterSpacing:".03em"}},e.plot)},editable:{onRowAdd:function(e){return new Promise(function(){var t=Object(p.a)(d.a.mark((function t(r,a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,w({movie:e});case 3:if(t.sent.success){t.next=6;break}return t.abrupt("return",a("Error adding movie"));case 6:c([].concat(Object(u.a)(n),[e])),r();case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},onRowUpdate:function(e,t){return new Promise(function(){var r=Object(p.a)(d.a.mark((function r(a,i){var o,s;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,O({id:t.id,movie:e});case 3:if(r.sent.success){r.next=6;break}return r.abrupt("return",i("Error updating movie"));case 6:o=Object(u.a)(n),s=t.tableData.id,o[s]=e,c(Object(u.a)(o)),a();case 11:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}())},onRowDelete:function(e){return new Promise(function(){var t=Object(p.a)(d.a.mark((function t(r,a){var i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v({id:e.id});case 2:if(t.sent.success){t.next=5;break}return t.abrupt("return",a("Error deleting movie"));case 5:i=Object(u.a)(n),o=e.tableData.id,i.splice(o,1),c(Object(u.a)(i)),r();case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}}})))},Q=n(109),X=Object(Q.a)({palette:{type:"dark"}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(s.a,{theme:X},a.a.createElement(o.a,null),a.a.createElement(K,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[367,1,2]]]);
//# sourceMappingURL=main.fd373731.chunk.js.map